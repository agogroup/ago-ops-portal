# AGO Ops Portal - Claude Code 運用ルール

## プロジェクト概要

AGOグループの現場運営支援ツール。
TEKO配車管理を中心に、現場関係者（染谷・菅優伍・トラ・梅内）の連携を効率化する。

---

## 重要：セキュリティ境界

このリポジトリには**機密情報を含めない**こと。

### 含めてはいけない情報

- 経営判断・戦略に関する情報
- 債務・財務情報
- 人間関係のメモ・評価
- 契約金額の詳細

### 含めてよい情報

- 現場の住所・工程（公開範囲のもの）
- 職人・業者の連絡先
- 作業手順・マニュアル

**判断に迷ったら、含めない**

---

## データ管理方針

### マスタデータ

```
data/
├── workers.json    ← 職人・業者の連絡先
└── sites.json      ← 現場情報
```

- JSONファイルがマスタ（Single Source of Truth）
- 共有が必要な場合は手動でスプレッドシートにエクスポート
- AGO秘書_V2のマスタとは独立管理

### 関連リポジトリとの関係

```
AGO秘書_V2（機密情報管理）  ←→  ago-ops-portal（運用ツール）
         ↑                              ↑
         └──── 情報の直接共有はしない ────┘
               必要なデータは手動でコピー
```

---

## 開発ルール

### コーディング規約

- 日本語コメント可
- 変数名・関数名は英語

### ブランチ戦略

- main: 本番環境
- develop: 開発環境
- feature/*: 機能開発

### コミットメッセージ

日本語OK。何をしたかを簡潔に。

---

## 利用者情報

| 名前 | 役割 | 利用シーン |
|------|------|------------|
| 染谷雅人 | TEKO現場管理 | 配車指示、現場判断 |
| 菅優伍 | TEKOデスク管理 | 状況把握、スケジュール確認 |
| 堀川寿人（トラ） | 現場管理 | 工程進行、指示出し |
| 梅内光 | 積算・工程準備 | 工程表作成、図面管理 |

---

## 外部サービス

### 連携予定

- ANDPAD: 現場管理プラットフォーム（API利用なし、PDF経由で情報共有）
- LINE: 通知・連絡（将来的に検討）

### 連携しない

- ANDPAD API（コスト理由で除外）

---

## 開発状況（2025-12-08 時点）

### 完了したこと

1. **リポジトリ構成決定**
   - AGO秘書_V2（機密）と ago-ops-portal（運用ツール）を完全分離
   - 理由：セキュリティ境界の明確化、事故防止

2. **要件定義**
   - `docs/requirements.md` に機能要件を整理
   - CTI機能（タイムチャート）を統合
   - 会社単位 → 職人単位への拡張パスを設計

3. **画面モックアップ**
   - `docs/mockups.md` に7画面のモックアップを作成
   - タイムチャートをメイン画面として設計

4. **開発仕様書作成**
   - `docs/dev-spec.md` にタイムチャート画面の詳細仕様を整理

5. **GitHub連携**
   - https://github.com/agogroup/ago-ops-portal と紐付け済み

### 次にやること

1. **Cursorでタイムチャート画面を実装**
   - `docs/dev-spec.md` の仕様に基づいて開発
   - Reactコンポーネントを `src/` に直接生成

2. **ローカルで動作確認**
   - `npm run dev` でプレビュー
   - 必要に応じてその場で修正

3. **GitHubにプッシュ**
   - 動作確認後、コミット＆プッシュ

### Phase 1 の機能スコープ

| 機能 | 状態 |
|------|------|
| タイムチャート | 次に着手 |
| 現場一覧 | 未着手 |
| 統合カレンダー | 未着手 |
| 連絡先検索 | 未着手 |
| スケジュール登録 | 未着手 |

### 重要なファイル

```
docs/
├── requirements.md   ← 機能要件書（必読）
├── mockups.md        ← 画面モックアップ
└── dev-spec.md       ← 開発仕様書（タイムチャート画面）
```

### 技術選定

- **開発方法**: Cursor + Claude（AI駆動開発）
- **フレームワーク**: React + TypeScript + Tailwind CSS
- **データ保存**: 一旦ローカルステート → 後でSupabase等
- **ホスティング**: Vercel（予定）

### 開発方針

**bolt.newは使用しない。** Cursorで直接開発する理由：
- リポジトリ構造・要件定義が既に整っている
- 生成コードが直接リポジトリに入る（ダウンロード不要）
- 段階的な改善・拡張が容易
- Phase 2以降の高度な機能追加に対応しやすい

### 背景情報

- 元々「林さん」にCTIシステムのカスタマイズを依頼予定だったが、対応スピードに懸念があり自作に方針転換
- 将来的には建設業界向けに外販も視野
- AGO秘書_V2 の議事録 `レポート/議事録/20251205_CTI建設業展開構想.md` に詳細あり
